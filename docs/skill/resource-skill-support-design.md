# Dolphin å¹³å° ResourceSkillkit è®¾è®¡æ–‡æ¡£

## 1. èƒŒæ™¯

### 1.1 ResourceSkillkit æ¦‚è¿°

ResourceSkillkit æ˜¯ Dolphin å¹³å°æ–°å¢çš„ Skillkit ç±»å‹ï¼Œç”¨äºæ”¯æŒ**èµ„æºå‹/æŒ‡å¯¼å‹ Skill**ã€‚ä¸æ‰§è¡Œå‹å·¥å…·ï¼ˆSQLã€Pythonã€MCPï¼‰ä¸åŒï¼Œå®ƒæ˜¯ä¸€ç§**"å‡†å¤‡å‹"æœºåˆ¶**â€”â€”ä»¥ Claude Skill æ ¼å¼ï¼ˆSKILL.mdï¼‰å°è£…çš„è‡ªåŒ…å«çŸ¥è¯†èµ„æºåŒ…ï¼Œæ•™ä¼š LLM å¦‚ä½•è§£å†³å¤æ‚é—®é¢˜ã€‚

**æ ¸å¿ƒç‰¹ç‚¹ï¼š**

| ç‰¹ç‚¹ | è¯´æ˜ |
|------|------|
| æ¸è¿›å¼æŠ«éœ² | åˆå§‹ä»…æš´éœ²å…ƒæ•°æ®ï¼ˆ~100 tokensï¼‰ï¼ŒæŒ‰éœ€åŠ è½½å®Œæ•´å†…å®¹ |
| ä¼šè¯çº§æŒä¹…åŒ– | åŠ è½½åè·¨è½®ä¿æŒï¼Œæ— éœ€é‡å¤åŠ è½½ |
| è·¨å¹³å°äº’æ“ä½œ | å¯¹é½ HuggingFace Skills æ ¼å¼ï¼Œå…¼å®¹ Claude Code / Codex |
| æœ¬åœ°ä¼˜å…ˆ | æ— éœ€å¤–éƒ¨ APIï¼Œå®Œå…¨æœ¬åœ°åŠ è½½ |
| å¯ç»„åˆæ€§ | å¤šä¸ª ResourceSkill å¯ç»„åˆï¼Œä¸æ‰§è¡Œå‹ Skillkit ååŒå·¥ä½œ |

**ä¸å…¶ä»– Skillkit å¯¹æ¯”ï¼š**

| Skillkit | ç±»å‹ | æŒä¹…æ€§ | ç”¨é€” |
|----------|------|--------|------|
| **ResourceSkillkit** | èµ„æºå‹ | ä¼šè¯çº§ï¼ˆLevel 2 è·¨è½®ä¿æŒï¼‰ | å¤æ‚ä»»åŠ¡æŒ‡å¯¼ |
| VMSkillkit | æ‰§è¡Œå‹ | å•æ¬¡è°ƒç”¨ | Python/Bash æ‰§è¡Œ |
| SQLSkillkit | æ‰§è¡Œå‹ | å•æ¬¡è°ƒç”¨ | SQL æŸ¥è¯¢ |
| MCPSkillkit | æ‰§è¡Œå‹ | æŒç»­è¿æ¥ | å¤–éƒ¨ç³»ç»Ÿé›†æˆ |
| CognitiveSkillkit | è®¤çŸ¥å‹ | ä¸´æ—¶æ€§ | æ€ç»´é“¾å¼•å¯¼ |

### 1.2 Claude Skill æ ¼å¼ï¼ˆå¯¹é½ HuggingFace Skillsï¼‰

```
skill-folder/
â”œâ”€â”€ SKILL.md              # ä¸»æ–‡ä»¶ï¼šYAML frontmatter + Markdown æŒ‡å¯¼
â”œâ”€â”€ AGENTS.md             # å¯é€‰ï¼šCodex å…¼å®¹
â”œâ”€â”€ scripts/              # è¾…åŠ©è„šæœ¬
â”‚   â””â”€â”€ *.py, *.sh
â””â”€â”€ references/           # å‚è€ƒèµ„æ–™
    â””â”€â”€ *.md
```

**SKILL.md ç»“æ„ï¼š**
```markdown
---
name: skill-name
description: Skill description
version: 1.0.0
tags: [tag1, tag2]
---

# Markdown æ­£æ–‡
è¯¦ç»†æŒ‡å¯¼æ–‡æ¡£ã€ç¤ºä¾‹ã€guardrails...
```

---

## 2. è®¾è®¡å†³ç­–

### 2.1 è®¾è®¡åŸåˆ™

1. **æœ€å°ä¾µå…¥æ€§**ï¼šå¤ç”¨ç°æœ‰ Skillkit æ¶æ„ï¼ŒResourceSkillkit ç»§æ‰¿è‡ª Skillkit åŸºç±»
2. **æœ¬åœ°ä¼˜å…ˆ**ï¼šæ— éœ€å¤–éƒ¨ APIï¼Œå®Œå…¨æœ¬åœ°åŠ è½½
3. **æ¸è¿›å¼æŠ«éœ²**ï¼šå…ƒæ•°æ®ä¼˜å…ˆï¼Œå®Œæ•´å†…å®¹æŒ‰éœ€åŠ è½½
4. **æ ¼å¼å…¼å®¹**ï¼šå¯¹é½ HuggingFace Skills è§„èŒƒ

### 2.2 å…³é”®æ¶æ„é€‰æ‹©

#### é€‰æ‹© 1ï¼šä¸‰çº§æ¸è¿›å¼åŠ è½½

| æ–¹æ¡ˆ | ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|------|
| A: é¢„åŠ è½½æ‰€æœ‰ | é›¶å»¶è¿Ÿè®¿é—® | å†…å­˜å ç”¨å¤§ï¼Œæµªè´¹ Token |
| **B: æ¸è¿›å¼åŠ è½½** | Token ä¼˜åŒ–ï¼Œå†…å­˜æ•ˆç‡ | é¦–æ¬¡åŠ è½½æœ‰å»¶è¿Ÿ |

**å†³ç­–ï¼šé‡‡ç”¨æ–¹æ¡ˆ B**

```
Level 1: å…ƒæ•°æ®ï¼ˆ~100 tokens/skillï¼‰
         name, description
              â†“ LLM è¯·æ±‚è§¦å‘
Level 2: SKILL.md å®Œæ•´å†…å®¹ï¼ˆ~1500 tokensï¼‰
              â†“ éœ€è¦æ—¶åŠ è½½
Level 3: scripts/referencesï¼ˆæŒ‰éœ€ï¼‰
```

#### é€‰æ‹© 2ï¼šLLM äº¤äº’æ¨¡å¼

| æ–¹æ¡ˆ | æè¿° | ä¼˜ç¼ºç‚¹ |
|------|------|--------|
| A: çº¯å·¥å…·è°ƒç”¨ | æä¾› `_load_skill()` å·¥å…· | éœ€é¢å¤–è°ƒç”¨ |
| B: çº¯ç³»ç»Ÿæ³¨å…¥ | å…ƒæ•°æ®è‡ªåŠ¨æ³¨å…¥ + æ ‡è®°è§¦å‘ | éœ€å®šä¹‰åè®® |
| **C: æ··åˆæ¨¡å¼** | å…ƒæ•°æ®æ³¨å…¥ + å·¥å…·åŠ è½½ | å…¼é¡¾è‡ªåŠ¨åŒ–å’Œå¯æ§æ€§ |

**å†³ç­–ï¼šé‡‡ç”¨æ–¹æ¡ˆ C**
- Level 1 å…ƒæ•°æ®è‡ªåŠ¨æ³¨å…¥ System Prompt
- Level 2/3 é€šè¿‡å·¥å…·è°ƒç”¨åŠ è½½

#### é€‰æ‹© 3ï¼šContext Bucket é›†æˆä¸æŒä¹…åŒ–

**èƒŒæ™¯**ï¼šDolphin çš„ `context_manager` é‡‡ç”¨ bucket æœºåˆ¶ï¼Œä¸åŒ bucket æœ‰ä¸åŒç”Ÿå‘½å‘¨æœŸï¼š

| Bucket | ç”Ÿå‘½å‘¨æœŸ |
|--------|----------|
| `_system` | æ¯è½®é‡å»º |
| `_history` | è·¨è½®ä¿ç•™ |
| `_query` | æ¯è½®æ¸…é™¤ |
| `_scratchpad` | æ¯è½®æ¸…é™¤ |

**æ–¹æ¡ˆå¯¹æ¯”**ï¼š

| æ–¹æ¡ˆ | æè¿° | é—®é¢˜ |
|------|------|------|
| A: æ”¾å…¥ scratchpad | Level 2 ä½œä¸º tool response è¿›å…¥ scratchpad | æ¯è½®æ¸…é™¤ï¼Œéœ€é‡å¤åŠ è½½ |
| B: åŠ¨æ€æ³¨å…¥ System | `getMetadataPrompt()` åŠ¨æ€ç”Ÿæˆ | âŒ **ç ´å Prefix Cache** |
| **C: History æŒä¹…åŒ–** | Level 2 ä½œä¸º tool response è¿›å…¥ `_history` | âœ… åˆ©ç”¨ history è‡ªç„¶ä¿ç•™ |

**å†³ç­–ï¼šé‡‡ç”¨æ–¹æ¡ˆ Cï¼ˆHistory æŒä¹…åŒ–ï¼‰**

**Prefix Cache é—®é¢˜åˆ†æ**ï¼š
LLM APIï¼ˆå¦‚ Claude/GPTï¼‰ä¼šç¼“å­˜è¯·æ±‚çš„å‰ç¼€éƒ¨åˆ†ï¼Œç›¸åŒå‰ç¼€å¯å¤ç”¨è®¡ç®—ç»“æœã€‚æ–¹æ¡ˆ B çš„åŠ¨æ€ System Prompt ä¼šå¯¼è‡´ï¼š
- æ¯æ¬¡ skill åŠ è½½çŠ¶æ€å˜åŒ–ï¼ŒSystem Prompt å†…å®¹å˜åŒ–
- æ•´ä¸ªå‰ç¼€å¤±æ•ˆï¼Œæ— æ³•å‘½ä¸­ Prefix Cache
- é¢å¤–å»¶è¿Ÿ ~100-200ms/è¯·æ±‚

**æ ¸å¿ƒæœºåˆ¶**ï¼š
- Level 1 å…ƒæ•°æ®å›ºå®šæ³¨å…¥ System Promptï¼ˆé¡ºåºç¨³å®šï¼‰
- Level 2 å®Œæ•´å†…å®¹ä½œä¸º tool response è¿›å…¥ `_history`
- `_history` è·¨è½®ä¿ç•™ï¼Œå¤©ç„¶å®ç°ä¼šè¯çº§æŒä¹…åŒ–
- System Prompt ç¨³å®šï¼ŒPrefix Cache å¯å¤ç”¨

**ä¸‰çº§å†…å®¹ Bucket å½’å±**ï¼š

| Level | å†…å®¹ | Bucket | æŒä¹…åŒ–è¯­ä¹‰ |
|-------|------|--------|-----------|
| Level 1 | å…ƒæ•°æ®æ‘˜è¦ï¼ˆæ‰€æœ‰ skillï¼‰ | `_system` | ä¼šè¯çº§ï¼šæ¯è½®å›ºå®šæ³¨å…¥ |
| Level 2 | SKILL.md å®Œæ•´å†…å®¹ | `_history` | ä¼šè¯çº§ï¼šä½œä¸º tool response è·¨è½®ä¿ç•™ |
| Level 3 | scripts/references èµ„æºæ–‡ä»¶ | `_scratchpad` | å•è½®ï¼šç”¨å®Œå³å¼ƒï¼ŒæŒ‰éœ€é‡æ–°åŠ è½½ |

**ä¸ Claude Skill å®˜æ–¹è¡Œä¸ºå¯¹é½**ï¼š

| ç‰¹æ€§ | Claude Skill å®˜æ–¹ | æœ¬è®¾è®¡ï¼ˆæ–¹æ¡ˆ Cï¼‰ |
|------|------------------|-----------------|
| åŠ è½½åæŒä¹…æ€§ | tool response åœ¨ history ä¸­ä¿ç•™ | âœ… Level 2 è¿›å…¥ `_history` |
| Prefix Cache | System Prompt ç¨³å®š | âœ… ä»… Level 1 å›ºå®šæ³¨å…¥ |
| é‡å¤åŠ è½½å¼€é”€ | æ— éœ€é‡å¤åŠ è½½ | âœ… history è‡ªç„¶è·¨è½®ä¿ç•™ |
| èµ„æºæ–‡ä»¶ | æŒ‰éœ€æŸ¥é˜… | âœ… Level 3 è¿›å…¥ `_scratchpad` |

### 2.3 é£é™©ä¸ç¼“è§£

| é£é™© | å½±å“ | ç¼“è§£æªæ–½ |
|------|------|----------|
| Token è¶…é™ | ä¸­ | æ¸è¿›å¼åŠ è½½ + å†…å®¹æˆªæ–­ç­–ç•¥ |
| æ ¼å¼è§£æå¤±è´¥ | ä¸­ | å®½æ¾è§£æ + è¯¦ç»†é”™è¯¯æç¤º |
| èµ„æºåŒ…è¿‡å¤§ | ä¸­ | å¤§å°é™åˆ¶ï¼ˆ8MBï¼‰+ åˆ†å—åŠ è½½ |
| æ¿€æ´»æ•°è¿‡å¤š | ä¸­ | `max_active_skills` é™åˆ¶ï¼ˆé»˜è®¤ 5ï¼‰ |
| è·¯å¾„éå†æ”»å‡» | é«˜ | `resolve() + relative_to()` æ ¡éªŒ |
| History è¿‡é•¿ | ä¸­ | æ»‘åŠ¨çª—å£è£å‰ªæ—¶ä¿ç•™æœ€è¿‘åŠ è½½çš„ skill |

---

## 3. ç³»ç»Ÿæ¶æ„

### 3.1 æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Dolphin Language SDK                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        Agent Layer                                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚  DolphinAgent   â”‚  â”‚  BaseAgent      â”‚  â”‚  AgentSkillKit    â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚              â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        Skillset Registry                             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚   â”‚
â”‚  â”‚  â”‚ Execution   â”‚ â”‚ Cognitive   â”‚ â”‚ Resource            â”‚            â”‚   â”‚
â”‚  â”‚  â”‚ Skillkits   â”‚ â”‚ Skillkits   â”‚ â”‚ Skillkits [NEW]     â”‚            â”‚   â”‚
â”‚  â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚            â”‚   â”‚
â”‚  â”‚  â”‚ VMSkillkit  â”‚ â”‚ Cognitive   â”‚ â”‚ ResourceSkillkit    â”‚            â”‚   â”‚
â”‚  â”‚  â”‚ SQLSkillkit â”‚ â”‚ Skillkit    â”‚ â”‚ (SKILL.md based)    â”‚            â”‚   â”‚
â”‚  â”‚  â”‚ MCPSkillkit â”‚ â”‚             â”‚ â”‚                     â”‚            â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                â”‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   ResourceSkillkit å†…éƒ¨ç»“æ„                           â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚                 Progressive Loading Pipeline                    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                                 â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   Level 1          Level 2              Level 3                 â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   â”‚Meta- â”‚ â”€â”€LLMâ”€â”€â–¶â”‚ SKILL.md â”‚ â”€â”€LLMâ”€â”€â–¶â”‚ scripts/       â”‚     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   â”‚data  â”‚ Request â”‚ Content  â”‚ Request â”‚ references/    â”‚     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   â”‚~100  â”‚         â”‚~1500     â”‚         â”‚ (on-demand)    â”‚     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   â”‚tokensâ”‚         â”‚tokens    â”‚         â”‚                â”‚     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚   â”‚
â”‚  â”‚  â”‚ SkillMetaCache  â”‚  â”‚ SkillContentCacheâ”‚  â”‚ _skills_meta   â”‚       â”‚   â”‚
â”‚  â”‚  â”‚ (Level 1 ç¼“å­˜)  â”‚  â”‚ (Level 2 ç¼“å­˜)   â”‚  â”‚ (å·²åŠ è½½å…ƒæ•°æ®) â”‚       â”‚   â”‚
â”‚  â”‚  â”‚ TTL + LRU       â”‚  â”‚ TTL + LRU        â”‚  â”‚ Dict[str,Meta] â”‚       â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    ä¸æ‰§è¡Œå‹ Skill åä½œ                                â”‚  â”‚
â”‚  â”‚  ResourceSkillkit â”€â”€guidesâ”€â”€â–¶ VMSkillkit (_python, _bash)            â”‚  â”‚
â”‚  â”‚                   â”€â”€guidesâ”€â”€â–¶ SQLSkillkit (_sql)                     â”‚  â”‚
â”‚  â”‚                   â”€â”€guidesâ”€â”€â–¶ MCPSkillkit (external tools)           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æ•°æ®æµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ResourceSkill æ¸è¿›å¼åŠ è½½æµç¨‹                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. åˆå§‹åŒ–é˜¶æ®µï¼ˆLevel 1ï¼šå…ƒæ•°æ®åŠ è½½ï¼‰
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  scan_dirs()  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   parse_yaml()   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Skillset   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ ResourceSkillkit â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ SKILL.md   â”‚
   â”‚  Registry   â”‚               â”‚                  â”‚                  â”‚ frontmatterâ”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                          â–¼
                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                  â”‚  SkillMetaCache    â”‚
                                  â”‚  {name, desc, path}â”‚
                                  â”‚  (~100 tokens)     â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. System Prompt æ³¨å…¥ï¼ˆå›ºå®š Level 1 å…ƒæ•°æ®ï¼‰
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    getMetadataPrompt()    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  make_system_    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ ResourceSkillkit        â”‚
   â”‚  message()       â”‚                           â”‚                         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚ è¾“å‡ºå›ºå®šå…ƒæ•°æ®åˆ—è¡¨       â”‚
                                                  â”‚ ï¼ˆé¡ºåºç¨³å®šï¼Œå†…å®¹ä¸å˜ï¼‰   â”‚
                                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                              â”‚
                                                              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  ## Available Resource Skills                                            â”‚
   â”‚                                                                          â”‚
   â”‚  ### data-pipeline                                                       â”‚
   â”‚  Guide for building ETL data pipelines using Python and pandas.         â”‚
   â”‚                                                                          â”‚
   â”‚  ### ml-trainer                                                          â”‚
   â”‚  Instructions for training ML models with TRL.                          â”‚
   â”‚                                                                          â”‚
   â”‚  Use `_load_resource_skill(name)` to load full instructions.            â”‚
   â”‚  â˜… System Prompt å†…å®¹å›ºå®šï¼ŒPrefix Cache å¯å¤ç”¨ â˜…                        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3. LLM å†³ç­–åŠ è½½ï¼ˆLevel 2ï¼šå®Œæ•´å†…å®¹ â†’ _historyï¼‰
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  _load_resource_skill("data-pipeline")  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   LLM   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ ResourceSkillkit â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                 â”‚
                                                                 â–¼
                                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                        â”‚ 1. åŠ è½½ SKILL.md â”‚
                                                        â”‚ 2. è¿”å›å®Œæ•´å†…å®¹  â”‚
                                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                 â”‚
                                                                 â–¼ Tool Response â†’ _history
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  # Data Pipeline Guide                                                   â”‚
   â”‚  ## Overview                                                             â”‚
   â”‚  This skill guides you to build ETL pipelines...                        â”‚
   â”‚  ## Step 1: Use _python to load data                                    â”‚
   â”‚  ...                                                                     â”‚
   â”‚  ## Available Resources                                                  â”‚
   â”‚  - scripts/etl_template.py                                              â”‚
   â”‚  - references/best_practices.md                                         â”‚
   â”‚  â˜… ä½œä¸º tool_result è¿›å…¥ _history bucketï¼Œè·¨è½®ä¿ç•™ â˜…                    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

4. æŒ‰éœ€åŠ è½½èµ„æºï¼ˆLevel 3ï¼šscripts/references â†’ _scratchpadï¼‰
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  _load_skill_resource("data-pipeline", "scripts/etl.py")
   â”‚   LLM   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                        â”‚ scripts/etl.py  â”‚
                                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                 â”‚
                                                                 â–¼ Tool Response â†’ _scratchpad
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  # scripts/etl.py                                                        â”‚
   â”‚  [æ–‡ä»¶å†…å®¹ï¼Œè¿›å…¥ _scratchpadï¼Œç”¨å®Œå³å¼ƒ]                                    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

5. è·¨è½®æŒä¹…åŒ–æœºåˆ¶ï¼ˆåŸºäº Historyï¼‰
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  ç¬¬ N è½®å¯¹è¯                                                             â”‚
   â”‚                                                                         â”‚
   â”‚  _system bucket:                                                        â”‚
   â”‚    â€¢ Level 1 å…ƒæ•°æ®ï¼ˆå›ºå®šï¼Œ~200 tokensï¼‰                                  â”‚
   â”‚                                                                         â”‚
   â”‚  _history bucket:                                                       â”‚
   â”‚    â€¢ [User] è¯·å¸®æˆ‘æ„å»ºæ•°æ®ç®¡é“                                            â”‚
   â”‚    â€¢ [Assistant] {tool_use: _load_resource_skill("data-pipeline")}      â”‚
   â”‚    â€¢ [ToolResult] {Level 2 å®Œæ•´å†…å®¹ï¼Œ~1500 tokens}  â† è‡ªç„¶è·¨è½®ä¿ç•™       â”‚
   â”‚    â€¢ [Assistant] å¥½çš„ï¼Œæˆ‘å·²åŠ è½½æ•°æ®ç®¡é“æŒ‡å¯¼...                            â”‚
   â”‚                                                                         â”‚
   â”‚  _scratchpad bucket: (æ¯è½®æ¸…é™¤)                                          â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  ç¬¬ N+1 è½®å¯¹è¯                                                           â”‚
   â”‚                                                                         â”‚
   â”‚  _system bucket: ä¸ç¬¬ N è½®å®Œå…¨ç›¸åŒï¼ˆPrefix Cache å‘½ä¸­ âœ“ï¼‰                 â”‚
   â”‚                                                                         â”‚
   â”‚  _history bucket: åŒ…å«ä¹‹å‰çš„ tool response                               â”‚
   â”‚    â€¢ LLM è‡ªç„¶çœ‹åˆ°ä¹‹å‰åŠ è½½çš„ skill å†…å®¹                                    â”‚
   â”‚    â€¢ æ— éœ€é‡å¤è°ƒç”¨ _load_resource_skill()                                 â”‚
   â”‚    â€¢ æ— éœ€ä»»ä½•é¢å¤–çŠ¶æ€ç®¡ç†                                                 â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

6. æŒ‡å¯¼æ‰§è¡Œå‹ Skill
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   LLM   â”‚  åŸºäº ResourceSkill  â”‚ æ‰§è¡Œå‹ Skillkit  â”‚
   â”‚ (å·²åŠ è½½ â”‚  çš„æŒ‡å¯¼ï¼Œè°ƒç”¨        â”‚                 â”‚
   â”‚ æŒ‡å¯¼)   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ â€¢ _python()     â”‚ â”€â”€â–º å®é™…æ‰§è¡Œ
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚ â€¢ _bash()       â”‚
                                    â”‚ â€¢ _sql()        â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 æ ¸å¿ƒç»„ä»¶èŒè´£

| ç»„ä»¶ | èŒè´£ | ä¾èµ– |
|------|------|------|
| `ResourceSkillkit` | ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œå®ç° Skillkit æ¥å£ï¼Œæä¾›æ¸è¿›å¼åŠ è½½ã€å…ƒæ•°æ®æ³¨å…¥ | SkillLoader, SkillMetaCache, SkillContentCache |
| `SkillLoader` | ç›®å½•æ‰«æã€SKILL.md è§£æï¼ˆYAML frontmatter + Markdownï¼‰ã€èµ„æºæ–‡ä»¶åŠ è½½ | SkillValidator |
| `SkillValidator` | frontmatter éªŒè¯ã€è·¯å¾„å®‰å…¨æ£€æŸ¥ã€æ–‡ä»¶ç±»å‹ç™½åå•ã€å¤§å°é™åˆ¶ | ResourceSkillConfig |
| `TTLLRUCache` | é€šç”¨ç¼“å­˜åŸºç±»ï¼šTTL è¿‡æœŸ + LRU æ·˜æ±°ç­–ç•¥ | - |
| `SkillMetaCache` | Level 1 å…ƒæ•°æ®ç¼“å­˜ï¼ˆç»§æ‰¿è‡ª TTLLRUCacheï¼‰ | TTLLRUCache |
| `SkillContentCache` | Level 2 å†…å®¹ç¼“å­˜ï¼ˆç»§æ‰¿è‡ª TTLLRUCacheï¼ŒTTL åŠ å€ï¼‰ | TTLLRUCache |
| `ResourceSkillConfig` | é…ç½®æ•°æ®ç±»ï¼Œæ”¯æŒä» dict/GlobalConfig åˆ›å»º | - |
| `SkillMeta` | Level 1 å…ƒæ•°æ®æ¨¡å‹ | - |
| `SkillContent` | Level 2 å†…å®¹æ¨¡å‹ | - |

---

## 4. ä»£ç ç»“æ„

```
src/DolphinLanguageSDK/skill/installed/
â”œâ”€â”€ resource_skillkit.py                # å…¼å®¹æ€§åŒ…è£…å™¨ï¼ˆç”¨äº entry-point å‘ç°ï¼‰
â””â”€â”€ resource/
    â”œâ”€â”€ __init__.py                     # åŒ…å…¬å¼€ API
    â”œâ”€â”€ resource_skillkit.py            # ResourceSkillkit ä¸»ç±»
    â”œâ”€â”€ skill_loader.py                 # SKILL.md åŠ è½½å™¨
    â”œâ”€â”€ skill_validator.py              # æ ¼å¼éªŒè¯å™¨ã€è·¯å¾„å®‰å…¨æ£€æŸ¥
    â”œâ”€â”€ skill_cache.py                  # TTL/LRU ç¼“å­˜å®ç°
    â””â”€â”€ models/
        â”œâ”€â”€ __init__.py
        â”œâ”€â”€ skill_config.py             # ResourceSkillConfig é…ç½®æ•°æ®ç±»
        â””â”€â”€ skill_meta.py               # SkillMeta, SkillContent æ•°æ®æ¨¡å‹

examples/resource_skill/                # ç¤ºä¾‹é¡¹ç›®
â”œâ”€â”€ skill_guided_assistant.dph          # DPH ä»£ç†å®šä¹‰
â”œâ”€â”€ skills/                             # æœ¬åœ° Skill èµ„æºç›®å½•
â”‚   â”œâ”€â”€ brainstorming/
â”‚   â”‚   â””â”€â”€ SKILL.md
â”‚   â””â”€â”€ cto-advisor/
â”‚       â”œâ”€â”€ SKILL.md
â”‚       â”œâ”€â”€ scripts/
â”‚       â””â”€â”€ references/
â””â”€â”€ config/
    â””â”€â”€ global_config.yaml
```

**æ¨¡å—èŒè´£è¯´æ˜**ï¼š

| æ¨¡å— | èŒè´£ |
|------|------|
| `installed/resource_skillkit.py` | å…¼å®¹æ€§åŒ…è£…å™¨ï¼Œä½¿ GlobalSkills çš„ entry-point æœºåˆ¶èƒ½å‘ç° ResourceSkillkit |
| `resource/__init__.py` | å¯¼å‡ºå…¬å¼€ APIï¼šResourceSkillkit, ResourceSkillConfig, SkillMeta ç­‰ |
| `resource/resource_skillkit.py` | ä¸»ç±»å®ç°ï¼Œæä¾›æ¸è¿›å¼åŠ è½½ã€å…ƒæ•°æ®æ³¨å…¥ã€å·¥å…·å‡½æ•°ç­‰æ ¸å¿ƒåŠŸèƒ½ |
| `resource/skill_loader.py` | SKILL.md è§£æï¼ˆYAML frontmatter + Markdown bodyï¼‰ã€ç›®å½•æ‰«æã€èµ„æºæ–‡ä»¶åŠ è½½ |
| `resource/skill_validator.py` | frontmatter éªŒè¯ã€è·¯å¾„å®‰å…¨éªŒè¯ï¼ˆé˜²éå†æ”»å‡»ï¼‰ã€æ–‡ä»¶ç±»å‹ç™½åå•ã€å¤§å°é™åˆ¶ |
| `resource/skill_cache.py` | é€šç”¨ TTL+LRU ç¼“å­˜ç±»ï¼ŒSkillMetaCache å’Œ SkillContentCache ç‰¹åŒ–å®ç° |

---

## 5. é…ç½®è®¾è®¡

```yaml
# global_config.yaml ä¸­çš„ resource_skills é…ç½®èŠ‚
resource_skills:
  # æ˜¯å¦å¯ç”¨ ResourceSkillkit
  enabled: true

  # Skill åŠ è½½ç›®å½•ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰
  directories:
    - "./skills"              # é¡¹ç›®çº§ï¼ˆç›¸å¯¹äº agent æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼‰
    - "~/.dolphin/skills"     # ç”¨æˆ·çº§

  # é™åˆ¶é…ç½®
  limits:
    max_skill_size_mb: 8      # å•ä¸ª Skill åŒ…æœ€å¤§ 8MB
    max_content_tokens: 8000  # å•æ¬¡åŠ è½½æœ€å¤§ token

  # ç¼“å­˜é…ç½®ï¼ˆå¯é€‰ï¼Œæœ‰é»˜è®¤å€¼ï¼‰
  cache_ttl_seconds: 300      # å…ƒæ•°æ®ç¼“å­˜ TTLï¼Œé»˜è®¤ 5 åˆ†é’Ÿ
  max_cache_size: 100         # æœ€å¤§ç¼“å­˜æ¡ç›®æ•°

  # æ‰«æé…ç½®ï¼ˆå¯é€‰ï¼Œæœ‰é»˜è®¤å€¼ï¼‰
  max_scan_depth: 6           # ç›®å½•æ‰«ææ·±åº¦ä¸Šé™
  allowed_extensions:         # èµ„æºæ–‡ä»¶ç±»å‹ç™½åå•
    - ".py"
    - ".sh"
    - ".js"
    - ".ts"
    - ".md"
    - ".txt"
    - ".json"
    - ".yaml"
    - ".yml"
```

**é…ç½®è¯´æ˜**ï¼š

| é…ç½®é¡¹ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|------|
| `enabled` | `true` | æ˜¯å¦å¯ç”¨ ResourceSkillkit |
| `directories` | `["./skills"]` | Skill åŠ è½½ç›®å½•ï¼ŒæŒ‰ä¼˜å…ˆçº§æ’åºï¼Œé«˜ä¼˜å…ˆçº§ç›®å½•çš„åŒå Skill ç”Ÿæ•ˆ |
| `limits.max_skill_size_mb` | `8` | å•ä¸ª Skill åŒ…ï¼ˆå«æ‰€æœ‰èµ„æºï¼‰æœ€å¤§å¤§å° |
| `limits.max_content_tokens` | `8000` | å•æ¬¡åŠ è½½è¿”å›çš„æœ€å¤§ token æ•° |
| `cache_ttl_seconds` | `300` | Level 1 å…ƒæ•°æ®ç¼“å­˜æ—¶é—´ï¼ˆç§’ï¼‰ |
| `max_cache_size` | `100` | ç¼“å­˜æœ€å¤§æ¡ç›®æ•°ï¼ˆLRU æ·˜æ±°ç­–ç•¥ï¼‰ |
| `max_scan_depth` | `6` | æ‰«æå­ç›®å½•çš„æœ€å¤§æ·±åº¦ |
| `allowed_extensions` | `.py, .sh, .js, .ts, .md, .txt, .json, .yaml, .yml` | Level 3 èµ„æºæ–‡ä»¶ç±»å‹ç™½åå• |

**è·¯å¾„è§£æè§„åˆ™**ï¼š
- ç›¸å¯¹è·¯å¾„åŸºäº `GlobalConfig.base_dir`ï¼ˆé€šå¸¸æ˜¯ agent æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼‰è§£æ
- `~` è‡ªåŠ¨å±•å¼€ä¸ºç”¨æˆ·ä¸»ç›®å½•
- åŒå Skill æ—¶ï¼Œé«˜ä¼˜å…ˆçº§ï¼ˆåˆ—è¡¨ä¸­é å‰ï¼‰çš„ç›®å½•ç”Ÿæ•ˆ

---

## 6. API è®¾è®¡

### 6.1 å¯¹å¤–å·¥å…·æ¥å£

ResourceSkillkit æä¾› 2 ä¸ªå·¥å…·å‡½æ•°ï¼ˆLevel 1 å…ƒæ•°æ®é€šè¿‡ `get_metadata_prompt()` è‡ªåŠ¨æ³¨å…¥ System Promptï¼‰ï¼š

| å·¥å…· | ç”¨é€” | è¿”å› |
|------|------|------|
| `_load_resource_skill(skill_name)` | åŠ è½½å®Œæ•´å†…å®¹ï¼ˆLevel 2ï¼‰ | SKILL.md æ­£æ–‡ |
| `_load_skill_resource(skill_name, resource_path)` | åŠ è½½èµ„æºæ–‡ä»¶ï¼ˆLevel 3ï¼‰ | æ–‡ä»¶å†…å®¹ |

**é”™è¯¯å¤„ç†**ï¼šç»Ÿä¸€ä»¥ `Error:` å¼€å¤´ï¼ŒåŒ…å«å¯ç”¨é€‰é¡¹å¸®åŠ© LLM è‡ªä¿®å¤ã€‚

**æˆªæ–­ç­–ç•¥**ï¼šå½“å†…å®¹è¶…è¿‡ `max_content_tokens` æ—¶ï¼Œä¿ç•™æ ‡é¢˜/å…³é”®æ®µè½ï¼Œæœ«å°¾æç¤ºä½¿ç”¨ Level 3 è·å–ç»†èŠ‚ã€‚

### 6.2 æ ¸å¿ƒç±»æ¥å£

```python
class ResourceSkillkit(Skillkit):
    """èµ„æºå‹ Skillkit - æ”¯æŒ Claude Skill æ ¼å¼çš„æœ¬åœ°èµ„æºåŒ…"""

    def __init__(self, config: ResourceSkillConfig = None): ...

    # é…ç½®ä¸åˆå§‹åŒ–
    def setGlobalConfig(self, globalConfig) -> None:
        """ä» GlobalConfig è¯»å– resource_skills é…ç½®å¹¶é‡æ–°åˆå§‹åŒ–"""

    def initialize(self, base_path: Optional[Path] = None) -> None:
        """æ‰«æç›®å½•å¹¶åŠ è½½æ‰€æœ‰ Skill çš„ Level 1 å…ƒæ•°æ®"""

    # Skillkit æ¥å£å®ç°
    def getName(self) -> str:
        """è¿”å› 'resource_skillkit'"""

    def _createSkills(self) -> List[SkillFunction]:
        """åˆ›å»ºå·¥å…·å‡½æ•°åˆ—è¡¨ï¼ˆ_load_resource_skill, _load_skill_resourceï¼‰"""

    # å…ƒæ•°æ®æ³¨å…¥ï¼ˆè¦†ç›–åŸºç±»æ–¹æ³•ï¼‰
    def get_metadata_prompt(self) -> str:
        """
        ç”Ÿæˆå›ºå®šçš„ System Prompt å†…å®¹ï¼ˆä»… Level 1 å…ƒæ•°æ®ï¼‰

        ç‰¹ç‚¹ï¼š
        - å§‹ç»ˆè¾“å‡ºç›¸åŒå†…å®¹ï¼ˆé¡ºåºç¨³å®šï¼ŒæŒ‰ skill åç§°æ’åºï¼‰
        - æ— å¯ç”¨ skill æ—¶ä¹Ÿè¿”å› section headerï¼Œé˜²æ­¢ LLM å¹»è§‰
        - è°ƒç”¨å‰è‡ªåŠ¨è§¦å‘åˆå§‹åŒ–ï¼ˆ_ensure_initializedï¼‰
        """

    # æ¸è¿›å¼åŠ è½½æ ¸å¿ƒ
    def load_skill(self, name: str) -> str:
        """Level 2: åŠ è½½å¹¶è¿”å› SKILL.md å®Œæ•´å†…å®¹ï¼ˆå†…éƒ¨æ–¹æ³•ï¼‰"""

    def load_resource(self, skill_name: str, resource_path: str) -> str:
        """Level 3: åŠ è½½å¹¶è¿”å›èµ„æºæ–‡ä»¶å†…å®¹ï¼ˆå†…éƒ¨æ–¹æ³•ï¼‰"""

    # å·¥å…·å‡½æ•°ï¼ˆæš´éœ²ç»™ LLMï¼‰
    def _load_resource_skill(self, skill_name: str, **kwargs) -> str:
        """åŠ è½½ skill å®Œæ•´æŒ‡å¯¼ï¼Œè¿”å›å€¼å¸¦ PIN_MARKER ä»¥æŒä¹…åŒ–åˆ° history"""

    def _load_skill_resource(self, skill_name: str, resource_path: str, **kwargs) -> str:
        """åŠ è½½èµ„æºæ–‡ä»¶ï¼Œè¿”å›å€¼å¸¦ PIN_MARKER ä»¥æŒä¹…åŒ–åˆ° history"""

    # å®ç”¨æ–¹æ³•
    def get_available_skills(self) -> List[str]:
        """è·å–å¯ç”¨ skill åç§°åˆ—è¡¨ï¼ˆå·²æ’åºï¼‰"""

    def get_skill_meta(self, name: str) -> Optional[SkillMeta]:
        """è·å–æŒ‡å®š skill çš„å…ƒæ•°æ®"""

    def clear_caches(self) -> None:
        """æ¸…é™¤æ‰€æœ‰å†…éƒ¨ç¼“å­˜"""

    def refresh(self) -> int:
        """é‡æ–°æ‰«æç›®å½•ï¼Œè¿”å› skill æ•°é‡"""

    def get_stats(self) -> Dict[str, Any]:
        """è·å– skillkit ç»Ÿè®¡ä¿¡æ¯ï¼ˆç”¨äºè°ƒè¯•ï¼‰"""
```

**å…³é”®å®ç°ç»†èŠ‚**ï¼š

1. **PIN_MARKER æœºåˆ¶ï¼ˆä»… Level 2ï¼‰**ï¼š`_load_resource_skill` è¿”å›çš„ SKILL.md å†…å®¹ä¼šæ·»åŠ  `PIN_MARKER` å‰ç¼€ï¼Œä½¿å…¶åœ¨ `_update_history_and_cleanup` æ—¶è¢«è¯†åˆ«å¹¶æŒä¹…åŒ–åˆ° history å˜é‡ï¼Œå®ç°ä¼šè¯çº§è·¨è½®ä¿ç•™ã€‚**`_load_skill_resource`ï¼ˆLevel 3ï¼‰ä¸ä½¿ç”¨ PIN_MARKER**ï¼Œå†…å®¹ç•™åœ¨ scratchpad ä¸­ï¼Œä¸‹ä¸€è½®è‡ªåŠ¨æ¸…é™¤ï¼Œç¬¦åˆ"ç”¨å®Œå³å¼ƒ"è®¾è®¡ã€‚

2. **owner_skillkit ç»‘å®š**ï¼šé€šè¿‡åŸºç±» `Skillkit._bindOwnerToSkills()` è‡ªåŠ¨å°† `ResourceSkillkit` å®ä¾‹ç»‘å®šåˆ°å…¶ `SkillFunction` ä¸Šï¼Œä½¿ `Skillkit.collect_metadata_from_skills()` èƒ½å¤Ÿæ”¶é›†å…ƒæ•°æ®ã€‚

3. **å»¶è¿Ÿåˆå§‹åŒ–**ï¼šé¦–æ¬¡è°ƒç”¨ `get_metadata_prompt()` æ—¶è‡ªåŠ¨è§¦å‘ç›®å½•æ‰«æï¼Œæ— éœ€æ˜¾å¼è°ƒç”¨ `initialize()`ã€‚

### 6.3 æ•°æ®æ¨¡å‹

```python
@dataclass
class SkillMeta:
    """Level 1 å…ƒæ•°æ® - è½»é‡çº§ skill ä¿¡æ¯"""
    name: str                           # å”¯ä¸€æ ‡è¯†ç¬¦
    description: str                    # ç®€çŸ­æè¿°
    base_path: str                      # skill ç›®å½•ç»å¯¹è·¯å¾„
    version: Optional[str] = None       # è¯­ä¹‰ç‰ˆæœ¬å·
    tags: List[str] = field(default_factory=list)  # åˆ†ç±»æ ‡ç­¾

    def to_prompt_entry(self) -> str:
        """ç”Ÿæˆ Markdown æ ¼å¼çš„å…ƒæ•°æ®æ¡ç›®"""
        return f"### {self.name}\n{self.description}"

    def to_dict(self) -> Dict[str, Any]:
        """è½¬æ¢ä¸ºå­—å…¸è¡¨ç¤º"""


@dataclass
class SkillContent:
    """Level 2 å®Œæ•´å†…å®¹ - SKILL.md åŠ è½½ç»“æœ"""
    frontmatter: Dict[str, Any]         # è§£æåçš„ YAML frontmatter
    body: str                           # Markdown æ­£æ–‡
    available_scripts: List[str] = field(default_factory=list)    # scripts/ ç›®å½•ä¸‹çš„æ–‡ä»¶
    available_references: List[str] = field(default_factory=list) # references/ ç›®å½•ä¸‹çš„æ–‡ä»¶

    def get_name(self) -> str:
        """ä» frontmatter è·å– skill åç§°"""

    def get_description(self) -> str:
        """ä» frontmatter è·å– skill æè¿°"""

    def get_full_content(self) -> str:
        """ç”Ÿæˆå®Œæ•´å†…å®¹ï¼ŒåŒ…å« body å’Œ Available Resources åˆ—è¡¨"""
```

```python
@dataclass
class ResourceSkillConfig:
    """ResourceSkillkit é…ç½®"""
    enabled: bool = True
    directories: List[str] = field(default_factory=lambda: ["./skills"])
    max_skill_size_mb: int = 8
    max_content_tokens: int = 8000
    cache_ttl_seconds: int = 300
    max_cache_size: int = 100
    max_scan_depth: int = 6
    allowed_extensions: List[str] = field(default_factory=lambda: [
        ".py", ".sh", ".js", ".ts", ".md", ".txt", ".json", ".yaml", ".yml"
    ])

    @classmethod
    def from_dict(cls, config_dict: dict) -> "ResourceSkillConfig":
        """ä»å­—å…¸åˆ›å»ºé…ç½®ï¼ˆç”¨äº GlobalConfig è§£æï¼‰"""

    def get_resolved_directories(self, base_path: Optional[Path] = None) -> List[Path]:
        """è§£æç›®å½•è·¯å¾„ï¼Œå±•å¼€ ~ å¹¶è½¬æ¢ä¸ºç»å¯¹è·¯å¾„"""
```

### 6.4 `get_metadata_prompt()` è¾“å‡ºç¤ºä¾‹

```markdown
## Available Resource Skills

### brainstorming
A collaborative ideation skill for generating creative solutions.

### cto-advisor
Expert guidance for CTO-level technical leadership decisions.
```

**æ³¨æ„**ï¼š
- å®é™…è¾“å‡ºä¸åŒ…å«å·¥å…·ä½¿ç”¨è¯´æ˜ï¼ˆLLM é€šè¿‡ tool schema äº†è§£å·¥å…·å‚æ•°ï¼‰
- æ— å¯ç”¨ skill æ—¶è¾“å‡º `_No resource skills are currently available._` è€Œéç©ºç™½
- é¡ºåºæŒ‰ skill åç§°å­—æ¯æ’åºï¼Œä¿è¯ç¨³å®šæ€§

### 6.5 DPH è¯­æ³•ä½¿ç”¨

```dolphin
@DESC
A skill-guided assistant that loads relevant resource skills.
@DESC

'''
You are a helpful assistant with access to specialized resource skills.
Resource skills are expert guidance documents that teach you how to perform specific tasks.

IMPORTANT: You can ONLY use the skills listed in "Available Resource Skills" section above.
Do NOT invent or guess skill names - use exactly the skill names shown in that section.

When helping users:
1. Review the "Available Resource Skills" section to see what skills are available
2. Choose the MOST RELEVANT skill based on the user's request
''' -> system

# ä½¿ç”¨ wildcard é€‰æ‹© resource_skillkit çš„æ‰€æœ‰å·¥å…·
/explore/(tools=[resource_skillkit.*, _python], system_prompt=$system)
The user needs assistance with a task.

User request:
```
$query
```

Based on the available resource skills listed above, identify and load the most relevant skill.
-> result
```

**å…³é”®è¯­æ³•ç‚¹**ï¼š
- `tools=[resource_skillkit.*]`ï¼šä½¿ç”¨ wildcard é€‰æ‹© ResourceSkillkit çš„æ‰€æœ‰å·¥å…·ï¼ˆ`_load_resource_skill`ã€`_load_skill_resource`ï¼‰
- Level 1 å…ƒæ•°æ®è‡ªåŠ¨æ³¨å…¥åˆ° system prompt å¼€å¤´ï¼Œç”± `Skillkit.collect_metadata_from_skills()` æ”¶é›†
- æ— éœ€æ˜¾å¼è°ƒç”¨ `get_metadata_prompt()`ï¼Œæ¡†æ¶è‡ªåŠ¨å¤„ç†

---

## 7. æŠ€æœ¯äº®ç‚¹

### 7.1 Prefix Cache ä¼˜åŒ–

**é—®é¢˜**ï¼šåŠ¨æ€ System Prompt ç ´å Prefix Cacheï¼Œå¯¼è‡´æ¯æ¬¡è¯·æ±‚é¢å¤–å»¶è¿Ÿ ~100-200msã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šHistory Bucket æŒä¹…åŒ–

```
åŠ¨æ€ System Prompt æ–¹æ¡ˆï¼ˆâŒ Prefix Cache å¤±æ•ˆï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è½®æ¬¡ 1  â”‚    â”‚ è½®æ¬¡ 2  â”‚    â”‚ è½®æ¬¡ 3  â”‚
â”‚ System: â”‚    â”‚ System: â”‚    â”‚ System: â”‚
â”‚ ~200    â”‚    â”‚ ~1700   â”‚    â”‚ ~3200   â”‚  â† æ¯è½®å˜åŒ–ï¼Œcache miss
â”‚ tokens  â”‚    â”‚ tokens  â”‚    â”‚ tokens  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜

History Bucket æ–¹æ¡ˆï¼ˆâœ… Prefix Cache å‘½ä¸­ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è½®æ¬¡ 1  â”‚    â”‚ è½®æ¬¡ 2  â”‚    â”‚ è½®æ¬¡ 3  â”‚
â”‚ System: â”‚    â”‚ System: â”‚    â”‚ System: â”‚
â”‚ ~200    â”‚    â”‚ ~200    â”‚    â”‚ ~200    â”‚  â† å§‹ç»ˆç›¸åŒï¼Œcache hit!
â”‚ tokens  â”‚    â”‚ tokens  â”‚    â”‚ tokens  â”‚
â”‚         â”‚    â”‚         â”‚    â”‚         â”‚
â”‚ History:â”‚    â”‚ History:â”‚    â”‚ History:â”‚
â”‚ +1500   â”‚    â”‚ +1500   â”‚    â”‚ +3000   â”‚  â† å†…å®¹åœ¨ history ä¸­å¢é•¿
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒæœºåˆ¶**ï¼š
- System Prompt ä»…åŒ…å«å›ºå®šçš„ Level 1 å…ƒæ•°æ®
- Level 2 å®Œæ•´å†…å®¹ä½œä¸º tool response è¿›å…¥ `_history`
- `_history` bucket è·¨è½®ä¿ç•™ï¼Œå¤©ç„¶å®ç°æŒä¹…åŒ–
- ä¸ Claude Skill å®˜æ–¹è¡Œä¸ºå®Œå…¨å¯¹é½

**æ”¶ç›Š**ï¼š
- Prefix Cache å‘½ä¸­ç‡æå‡ï¼š100%ï¼ˆå¤šè½®å¯¹è¯åœºæ™¯ï¼‰
- æ¯æ¬¡è¯·æ±‚èŠ‚çœ ~100-200ms å»¶è¿Ÿ
- çŠ¶æ€ç®¡ç†ç®€åŒ–ï¼šæŒä¹…åŒ–ä¾èµ– history bucketï¼Œ`_content_cache` ä»…ç”¨äºå†…éƒ¨æ€§èƒ½ä¼˜åŒ–

### 7.2 Token ç»æµä¼˜åŒ–

| ç­–ç•¥ | èŠ‚çœ | å®ç° |
|------|------|------|
| å…ƒæ•°æ®ä¼˜å…ˆ | ~70% | ä»…åŠ è½½ name/description |
| æŒ‰éœ€åŠ è½½ | ~30% | ä½¿ç”¨æ—¶æ‰åŠ è½½å®Œæ•´å†…å®¹ |
| History æŒä¹… | ~50% | è·¨è½®æ— éœ€é‡æ–°åŠ è½½ |

### 7.3 æŒ‡å¯¼å‹ Skill æ¶æ„

ResourceSkillkit ä¸ç›´æ¥æ‰§è¡Œæ“ä½œï¼Œè€Œæ˜¯æŒ‡å¯¼ LLM ä½¿ç”¨å…¶ä»– Skillï¼š

```
ç”¨æˆ·è¯·æ±‚ â†’ LLM åˆ†æ â†’ åŠ è½½ ResourceSkill â†’ è·å–æŒ‡å¯¼ â†’ è°ƒç”¨æ‰§è¡Œå‹ Skill
                                              â†“
                                    "ä½¿ç”¨ _python æ‰§è¡Œä»¥ä¸‹ä»£ç ..."
                                    "ä½¿ç”¨ _bash è¿è¡Œä»¥ä¸‹å‘½ä»¤..."
```

---

## 8. è¾¹ç•Œè€ƒè™‘

### 8.1 æ€§èƒ½è¾¹ç•Œ

| æŒ‡æ ‡ | é™åˆ¶ | è¯´æ˜ |
|------|------|------|
| History ä¸­ skill æ•°é‡ | æ— ç¡¬æ€§é™åˆ¶ | å— context window çº¦æŸ |
| å•ä¸ª skill å¤§å° | 8MB | åŒ…å«æ‰€æœ‰èµ„æºæ–‡ä»¶ |
| å•æ¬¡åŠ è½½æœ€å¤§ tokens | 8000 | é˜²æ­¢ context æº¢å‡º |
| æ‰«ææ·±åº¦ä¸Šé™ | 6ï¼ˆå¯é…ç½®ï¼‰ | é¿å…é€’å½’è¿‡æ·± |

### 8.2 å®‰å…¨è¾¹ç•Œ

- **è·¯å¾„å®‰å…¨**ï¼š`resolve() + relative_to()` é˜²æ­¢è·¯å¾„éå†æ”»å‡»
- **ç¬¦å·é“¾æ¥**ï¼šé»˜è®¤ä¸è·Ÿéšï¼Œé¿å…è¶Šæƒè¯»å–
- **æ–‡ä»¶ç±»å‹**ï¼šç™½åå•é™åˆ¶ï¼ˆ.py, .sh, .js, .ts, .md, .txt, .json, .yamlï¼‰

### 8.3 ä¸æ”¯æŒèŒƒå›´

| åŠŸèƒ½ | åŸå›  |
|------|------|
| è¿œç¨‹ Skill ä»“åº“ | æœ¬åœ°ä¼˜å…ˆè®¾è®¡ |
| åŠ¨æ€ä»£ç æ‰§è¡Œ | èµ„æºå‹ Skill ä¸æ‰§è¡Œä»£ç  |
| è·¨ Skill ä¾èµ–è‡ªåŠ¨è§£æ | éœ€æ‰‹åŠ¨ç®¡ç† |
| è‡ªåŠ¨æ›´æ–° | éœ€æ‰‹åŠ¨æ›´æ–°æœ¬åœ°æ–‡ä»¶ |

### 8.4 è¾¹ç•Œæƒ…å†µå¤„ç†

| åœºæ™¯ | å¤„ç†æ–¹å¼ |
|------|----------|
| åŠ è½½ç›¸åŒ skill å¤šæ¬¡ | å¹‚ç­‰ï¼Œä»…è¿”å›å†…å®¹ï¼ˆå·²åœ¨ history ä¸­ï¼‰ |
| History è£å‰ª | æ»‘åŠ¨çª—å£è£å‰ªæ—¶ä¿ç•™æœ€è¿‘åŠ è½½çš„ skill |
| å…ƒæ•°æ®ç¼“å­˜ TTL è¿‡æœŸ | ä¸‹è½®è‡ªåŠ¨ä»ç£ç›˜é‡æ–°åŠ è½½ï¼ˆå¯¹ç”¨æˆ·é€æ˜ï¼‰ |

---

## 9. å®æ–½çŠ¶æ€

| é˜¶æ®µ | å†…å®¹ | çŠ¶æ€ |
|------|------|------|
| **P0** | ResourceSkillkit åŸºç¡€ã€SkillLoaderã€ä¸‰çº§åŠ è½½ã€åŸºç¡€æµ‹è¯• | âœ… å·²å®Œæˆ |
| **P1** | TTL/LRU ç¼“å­˜ã€å¤šç›®å½•æ‰«æã€æ ¼å¼éªŒè¯ã€GlobalConfig é›†æˆ | âœ… å·²å®Œæˆ |
| **P2** | è·¯å¾„å®‰å…¨éªŒè¯ã€æ–‡ä»¶ç±»å‹ç™½åå•ã€entry-point æ³¨å†Œ | âœ… å·²å®Œæˆ |
| **P3** | ç¤ºä¾‹é¡¹ç›®ï¼ˆresource_skillï¼‰ã€å•å…ƒæµ‹è¯•å®Œå–„ | âœ… å·²å®Œæˆ |
| **æœªæ¥** | AGENTS.md å…¼å®¹ã€æ–‡ä»¶ç›‘å¬ï¼ˆçƒ­é‡è½½ï¼‰ã€Skill å¯¼å‡ºå·¥å…· | ğŸ“‹ è§„åˆ’ä¸­ |

---

## 10. ç¤ºä¾‹ SKILL.md

```markdown
---
name: data-pipeline
description: Guide for building ETL data pipelines using Python and pandas.
version: 1.0.0
tags: [etl, data-engineering, python]
---

# Data Pipeline Builder

This skill guides you through building robust ETL pipelines.

## When to Use

Use this skill when you need to:
- Extract data from various sources (CSV, JSON, databases)
- Transform and clean data
- Load data into target systems

## Step-by-Step Guide

### Step 1: Extract Data

Use `_python` to load data:

```python
import pandas as pd
df = pd.read_csv('input.csv')
```

### Step 2: Transform Data

Common transformations:

```python
df = df.dropna()
df['date'] = pd.to_datetime(df['date'])
```

### Step 3: Load Data

Output to target:

```python
df.to_csv('output.csv', index=False)
```

## Available Resources

- `scripts/etl_template.py` - Complete ETL template
- `references/best_practices.md` - Best practices guide
```

---

## 11. å‚è€ƒèµ„æ–™

- [HuggingFace Skills](https://github.com/huggingface/skills)
- [Claude Code Skills æ¶æ„](https://mikhail.io/2025/10/claude-code-skills/)
- [Claude Skills æ·±åº¦è§£æ](https://leehanchung.github.io/blogs/2025/10/26/claude-skills-deep-dive/)

---

*æ–‡æ¡£ç‰ˆæœ¬: 5.0*
*æ›´æ–°æ—¥æœŸ: 2025-12-17*

| ç‰ˆæœ¬ | å˜æ›´ |
|------|------|
| 5.0 | æ ¹æ®å®é™…å®ç°æ›´æ–°æ–‡æ¡£ï¼šä»£ç ç»“æ„ã€é…ç½®é¡¹ã€API æ¥å£ã€PIN_MARKER æœºåˆ¶ç­‰ |
| 4.0 | é‡‡ç”¨ History Bucket æŒä¹…åŒ–æ–¹æ¡ˆï¼Œè§£å†³ Prefix Cache é—®é¢˜ |
| 3.0 | ç²¾ç‚¼æ–‡æ¡£ï¼Œä¿ç•™æ ¸å¿ƒæµç¨‹å’Œè®¾è®¡ï¼Œç§»é™¤å†—ä½™å®ç°ä»£ç  |
| 2.1 | è¡¥å…… Context Bucket é›†æˆä¸æŒä¹…åŒ–è®¾è®¡ |
| 2.0 | åˆå§‹å®Œæ•´è®¾è®¡ |
